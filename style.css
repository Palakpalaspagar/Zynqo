:root {
  --bg: #fcfcfe;
  --fg: #1b1b1f;
  --muted: #656574;
  --card: #ffffffcc;
  --glass: rgba(255,255,255,0.45);
  --shadow: 0 10px 30px rgba(0,0,0,0.12);
  --radius: 18px;

  --grad: linear-gradient(135deg,#ff5f6d 0%, #ffc371 45%, #a78bfa 100%);
  --pill: #ffffff;
  --accent: #ff5f6d;
}

html[data-theme="dark"] {
  --bg: #0b1020;
  --fg: #e7e7ee;
  --muted: #a9a9b6;
  --card: #0f1730cc;
  --glass: rgba(17,24,39,0.45);
  --shadow: 0 10px 30px rgba(0,0,0,0.35);
  --pill: #0f1730;
  --accent: #ff8fab;
}

* { box-sizing: border-box; }
html, body { margin:0; padding:0; }
body {
  background: radial-gradient(1200px 600px at 10% -10%, #ffe8df55, transparent 50%),
              radial-gradient(1200px 600px at 110% 10%, #e3d8ff44, transparent 50%),
              var(--bg);
  color: var(--fg);
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  line-height: 1.5;
  transition: background .3s ease, color .3s ease;
}

/* Topbar */
.topbar {
  position: sticky; top:0; z-index: 40;
  backdrop-filter: saturate(140%) blur(6px);
  background: linear-gradient(180deg, var(--glass), transparent);
  border-bottom: 1px solid #ffffff18;
  display:flex; align-items:center; justify-content:space-between;
  gap: 1rem; padding: .8rem 1rem;
}
.brand { display:flex; align-items:center; gap:.5rem; }
.logo { font-weight: 800; font-size: 1.6rem; letter-spacing: .5px; background: var(--grad); -webkit-background-clip: text; color: transparent; }
.spark { font-size: 1.3rem; }

.actions { display:grid; grid-template-columns: 1fr auto auto; gap:.8rem; align-items:center; width:100%; max-width: 1100px; margin: 0 auto; }

/* Pills */
.pillbar { display:flex; gap:.5rem; overflow:auto; scrollbar-width:none; }
.pillbar::-webkit-scrollbar { display:none; }
.pill {
  padding:.5rem .9rem; border-radius: 999px; border:none; cursor:pointer;
  background: var(--pill); color: var(--fg); font-weight: 600;
  box-shadow: 0 6px 16px rgba(0,0,0,.08);
  transform: translateZ(0);
  transition: transform .15s ease, box-shadow .15s ease, background .2s ease;
  white-space: nowrap;
}
.pill:hover { transform: translateY(-2px); box-shadow: var(--shadow); }
.pill.active { background: var(--grad); color: #fff; }

/* Search */
.searchwrap { display:flex; }
#searchInput {
  width: 100%; min-width: 180px;
  padding: .55rem .9rem; border-radius: 999px; border:1px solid #00000014; outline:none;
  background: #ffffffb8; color: var(--fg);
  backdrop-filter: blur(8px);
}

/* Icon button */
.iconbtn {
  border:none; border-radius: 12px; padding:.55rem .7rem; cursor:pointer;
  background: var(--card);
  box-shadow: 0 8px 18px rgba(0,0,0,.08);
}

/* Ticker */
.ticker { overflow:hidden; white-space:nowrap; border-block: 1px dashed #00000014; }
.ticker-track { display:inline-flex; gap:1.5rem; padding:.55rem 1rem; animation: slide 18s linear infinite; }
.ticker-item { color: var(--muted); font-weight:600; }
@keyframes slide { from{ transform: translateX(0);} to{ transform: translateX(-50%);} }

/* Hero */
.hero {
  display:grid; grid-template-columns: 1.2fr 1fr; gap:1rem; max-width:1100px; margin:1rem auto; padding: 1rem;
  background: var(--glass); border-radius: var(--radius); box-shadow: var(--shadow);
  border: 1px solid #ffffff22;
}
.hero.hidden { display:none; }
.hero-media { position: relative; }
.hero-media img { width:100%; height:100%; min-height: 260px; object-fit: cover; border-radius: 14px; }
.chip {
  position:absolute; top:10px; left:10px; padding:.35rem .6rem; border-radius:999px;
  font-size:.78rem; font-weight:700; background:#000000aa; color:#fff;
}
.hero-content h2 { font-size: clamp(1.3rem, 2.2vw, 2rem); margin:.2rem 0 .4rem; }
.hero-content p { color: var(--muted); }
.hero-meta { display:flex; gap:1rem; margin:.7rem 0; color: var(--muted); font-size:.9rem; }
.btn { display:inline-block; padding:.6rem 1rem; border-radius: 12px; background: var(--grad); color:#fff; font-weight:700; border:none; cursor:pointer; text-decoration:none; }
.btn.outline { background: transparent; color: var(--fg); border:2px solid #00000022; }

/* Grid */
.grid {
  max-width: 1100px; margin: 1rem auto 3rem; padding: 0 1rem;
  display:grid; gap:1rem;
  grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
}

/* Card */
.card {
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow:hidden; transform: translateZ(0);
  transition: transform .18s ease, box-shadow .18s ease, background .2s ease;
  position: relative;
}
.card:hover { transform: translateY(-6px); box-shadow: 0 18px 40px rgba(0,0,0,.18); }
.card-media { position:relative; }
.card-media img { width:100%; height: 180px; object-fit:cover; display:block; }
.card-badge {
  position:absolute; top:10px; right:10px; padding:.35rem .55rem; border-radius: 999px;
  font-size:.72rem; font-weight:800; color:#fff; background: var(--grad);
}
.card-body { padding: .9rem; }
.card-title { font-size:1rem; font-weight:800; margin-bottom:.35rem; }
.card-desc { color: var(--muted); font-size:.9rem; min-height: 2.6em; }
.card-meta { display:flex; align-items:center; justify-content:space-between; margin-top:.6rem; color: var(--muted); font-size:.85rem; }

/* Share cluster */
.share {
  display:flex; gap:.45rem;
}
.share a, .share button {
  border:none; background:#ffffffdd; padding:.35rem .5rem; border-radius:10px; cursor:pointer; text-decoration:none; color:#111;
}
html[data-theme="dark"] .share a, html[data-theme="dark"] .share button {
  background:#222a;
  color:#eee;
}

/* Skeletons */
.skel {
  height: 280px; border-radius: var(--radius);
  background: linear-gradient(90deg, #00000008, #00000012, #00000008);
  background-size: 200% 100%;
  animation: shimmer 1.1s infinite linear;
}
@keyframes shimmer { 0%{background-position: 200% 0;} 100%{background-position: -200% 0;} }

/* Sentinel spacing */
.sentinel { height: 60px; }

/* Toast */
.toast {
  position: fixed; bottom: 14px; left: 50%; transform: translateX(-50%);
  background: #111; color:#fff; padding:.7rem 1rem; border-radius: 12px; opacity:0; pointer-events:none;
  transition: opacity .25s ease, transform .25s ease;
}
.toast.show { opacity:1; transform: translateX(-50%) translateY(-4px); }

/* Back to top */
.totop {
  position: fixed; right: 14px; bottom: 14px; z-index: 50;
  border:none; border-radius: 50%; width:46px; height:46px; cursor:pointer;
  background: var(--grad); color:#fff; font-size:1.1rem; box-shadow: var(--shadow); display:none;
}
.totop.show { display:block; }

/* Modal */
.modal::backdrop { background: #0008; }
.modal-card {
  background: var(--bg); color: var(--fg); border-radius: 16px; padding: 1rem 1rem 1.2rem; min-width: 300px;
  border: 1px solid #ffffff24;
}
.modal-card h3 { margin: 0 0 .2rem; }
.modal-card p { color: var(--muted); margin: 0 0 .8rem; }
.modal-card input { width:100%; padding:.6rem .8rem; border-radius: 12px; border:1px solid #0001; margin-bottom: .8rem; }
.modal-actions { display:flex; gap:.6rem; justify-content:flex-end; }

/* Responsive */
@media (max-width: 900px) {
  .hero { grid-template-columns: 1fr; }
}
